:root{
  --bg:#060a09;
  --panel:#08110c;
  --accent:#7dff9b;
  --accent-2:#92ffbf;
  --text:#c8ffd0;
  --muted:#7ac48a;
  --danger:#ff6b6b;
  --good:#46ff7a;
  --scan:#021008;
  --pip-cursor:"â–®";
}

html[data-theme="amber"]{
  --text:#ffecc2;
  --muted:#d3b98a;
  --accent:#ffd36b;
  --accent-2:#ffec9b;
  --good:#ffd36b;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(1200px 700px at 50% -10%, #0a1b13 0%, var(--bg) 60%),
    linear-gradient(180deg, #07120d 0%, var(--bg) 100%);
  color:var(--text);
  font:15px/1.5 ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  letter-spacing:.2px;
  overflow:hidden;
}

/* CRT/scanline WOW */
.crt, .noise{
  position:fixed; inset:0; pointer-events:none; z-index:1000;
}
.crt{
  background:
    repeating-linear-gradient(to bottom, rgba(255,255,255,.05) 0 1px, transparent 2px),
    radial-gradient(120% 120% at 50% -10%, rgba(255,255,255,.06), transparent 60%);
  mix-blend-mode: screen;
  opacity:.35;
  animation: flicker 6s infinite steps(60);
}
@keyframes flicker{ 0%,100%{opacity:.35} 50%{opacity:.2} }
.noise{
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='2'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.03'/%3E%3C/svg%3E");
  opacity:.35;
  animation: drift 60s linear infinite;
}
@keyframes drift{ from{background-position:0 0} to{background-position:10000px 0} }

.vtc-header{
  display:flex; justify-content:space-between; align-items:center;
  padding:16px 24px; border-bottom:1px solid rgba(255,255,255,.08);
  backdrop-filter: blur(6px);
}
.brand{display:flex; gap:16px; align-items:center}
.vault-logo{width:48px;height:48px;color:var(--accent);filter:drop-shadow(0 0 6px rgba(125,255,155,.4))}
.brand-text .kicker{font-size:12px; color:var(--muted); letter-spacing:2px}
.brand-text h1{margin:2px 0 2px; font-size:20px}
.brand-text .slogan{font-size:12px; color:var(--accent)}
.status{font-size:12px; color:var(--muted)}
.led{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:6px;box-shadow:0 0 8px rgba(0,0,0,.6) inset,0 0 8px}
.led-ok{background:var(--good); box-shadow:0 0 8px rgba(70,255,122,.9)}
.sep{margin:0 8px; opacity:.5}

.pip-controls{ margin-left:auto; display:flex; align-items:center; gap:8px }
.switch{ display:flex; align-items:center; gap:8px; font-size:12px; color:var(--muted) }
.switch input{ appearance:none; width:34px; height:18px; border-radius:18px;
  outline:none; border:1px solid rgba(125,255,155,.4); position:relative; background:#0c1f16; cursor:pointer }
.switch input::after{ content:""; position:absolute; top:2px; left:2px; width:14px; height:14px; border-radius:50%;
  background:var(--accent); box-shadow:0 0 8px var(--accent); transition:left .15s ease }
.switch input:checked::after{ left:18px }

/* Tabs */
.tabs{
  position:relative;
  display:flex; gap:12px; padding:10px 16px; border-bottom:1px solid rgba(255,255,255,.08);
}
.tab{
  position:relative;
  appearance:none; border:none; cursor:pointer;
  padding:10px 14px; border-radius:10px;
  background: linear-gradient(180deg, #0b1f14, #08150f);
  color:var(--text);
  box-shadow: inset 0 0 0 1px rgba(125,255,155,.18), 0 10px 20px rgba(0,0,0,.45);
  transition:transform .08s ease, box-shadow .2s ease, color .2s ease;
}
.tab:hover{ transform: translateY(-1px); box-shadow: inset 0 0 0 1px rgba(125,255,155,.28), 0 10px 26px rgba(0,0,0,.5) }
.tab.is-active{
  color:var(--accent);
  text-shadow:0 0 8px rgba(125,255,155,.35);
  box-shadow: inset 0 0 0 1px rgba(125,255,155,.6), 0 0 38px rgba(125,255,155,.15)
}
.tab[data-protected="true"]::after{
  content:"ðŸ”’"; font-size:12px; margin-left:6px; opacity:.8;
}
.tabs .glow{
  position:absolute; left:0; right:0; bottom:-2px; height:2px;
  background: radial-gradient(100% 100% at 50% 50%, var(--accent) 0%, transparent 70%);
  opacity:.35; filter: blur(3px);
}

/* Main viewport */
.viewport{ height: calc(100vh - 130px); overflow:auto; padding:24px; position:relative; }
.pane{ display:none; animation: enter .35s ease both }
.pane.is-visible{ display:block }
@keyframes enter{
  from{ opacity:0; transform: translateY(6px) scale(.99) }
  to{ opacity:1; transform: translateY(0) scale(1) }
}

.hero-card{
  background: linear-gradient(180deg, rgba(10,30,18,.8), rgba(6,14,10,.9));
  border:1px solid rgba(125,255,155,.25);
  border-left:3px solid var(--accent);
  padding:16px 18px; margin-bottom:12px; border-radius:14px;
  box-shadow:0 12px 24px rgba(0,0,0,.25), inset 0 0 0 1px rgba(255,255,255,.04);
  text-transform: uppercase;
  letter-spacing:.6px;
}
.hero-card.alt{ border-left-color: var(--accent-2) }
.hero-card.danger{ border-left-color: var(--danger) }
.hero-card h2,h3{ margin:0 0 4px }
.hero-card .sub{ color:var(--muted); margin:0; font-size:12px }

.content.terminal{
  background:
    linear-gradient(180deg, rgba(0,0,0,.25), transparent),
    repeating-linear-gradient(90deg, rgba(255,255,255,.03) 0 1px, transparent 2px),
    radial-gradient(1200px 500px at 20% 0%, #08130e 0%, #060a09 60%);
  padding:20px; border-radius:14px;
  border:1px solid rgba(125,255,155,.25);
  box-shadow: inset 0 0 120px rgba(0,0,0,.8), 0 12px 24px rgba(0,0,0,.35);
  position:relative;
  overflow:hidden;
}
.content.terminal::before{
  content:"PIP-BOY MK IV // VAULT-TEC";
  position:absolute; top:6px; right:10px; font-size:11px; color:rgba(255,255,255,.35)
}
.content.terminal::after{
  content:"";
  position:absolute; inset:-2px;
  pointer-events:none;
  background:
    radial-gradient(150% 100% at 50% -20%, rgba(255,255,255,.10), transparent 50%),
    radial-gradient(120% 120% at 50% 120%, rgba(0,0,0,.35), transparent 60%);
  border-radius:14px;
  mix-blend-mode:overlay;
}

pre{
  white-space:pre-wrap; margin:0; font-size:14px; line-height:1.7;
  text-shadow: 0 0 6px rgba(146,255,191,.18);
  position:relative;
  filter: drop-shadow(0 0 1px rgba(125,255,155,.35));
}
pre::after{
  content:var(--pip-cursor);
  display:inline-block;
  width:1ch;
  margin-left:6px;
  animation: blink .9s steps(2,end) infinite;
  opacity:.9;
}
@keyframes blink { 50% { opacity: 0; } }

.divider{
  margin:28px 0; height:1px; border:none;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.15), transparent);
}

/* Modal */
dialog{
  border:none; padding:0; background:transparent; color:var(--text);
}
dialog::backdrop{ background: rgba(2,6,12,.6); backdrop-filter: blur(3px) }
.modal-card{
  width:min(520px, calc(100vw - 32px));
  background: linear-gradient(180deg, #0f1a29, #0b1421);
  border:1px solid rgba(255,255,255,.12);
  padding:20px; border-radius:16px; box-shadow:0 30px 60px rgba(0,0,0,.45);
  animation: pop .2s ease;
}
@keyframes pop{ from{transform:scale(.96); opacity:0} to{transform:scale(1); opacity:1} }
.modal-card h3{ margin:0 0 8px }
.modal-card .muted{ color:var(--muted); margin:0 0 12px }
.modal-card input{
  width:100%; padding:12px 14px; border-radius:10px; border:1px solid rgba(255,255,255,.12);
  background:#0a1320; color:var(--text); outline:none;
}
.modal-actions{ display:flex; gap:10px; justify-content:flex-end; margin-top:12px }
.btn{
  padding:10px 14px; border-radius:10px; border:1px solid rgba(255,255,255,.16);
  background:#0c1524; color:var(--text); cursor:pointer;
}
.btn.primary{ border-color: rgba(125,255,155,.6); box-shadow: 0 0 18px rgba(125,255,155,.2) }
.btn.ghost{ background:transparent }

/* Footer */
.vtc-footer{
  padding:8px 16px; border-top:1px solid rgba(255,255,255,.08);
  text-align:center; color:var(--muted);
}

/* Terminal mode (toggle ~) */
body.terminal-mode{
  filter: contrast(1.15) saturate(1.25) brightness(1.05);
}
body.terminal-mode .crt{ opacity:.45 }

/* Pre-home overlay */
.pre-home{ position:fixed; inset:0; background:var(--bg); display:flex; align-items:center; justify-content:center; text-align:center; z-index:2001; flex-direction:column; padding:20px; }
.pre-home .slogan{ color:var(--accent); margin:6px 0 16px; }
.pre-home.is-hidden{ display:none; }
